<% if current_user %>
<nav-component v-slot="{isOpen, toggleMenu}">
<nav id="nav" role="navigation">
  <button class="burger not-button" :class="{open: isOpen, closed: !isOpen}" @click.stop="toggleMenu" type="button" :aria-expanded="isOpen ? 'true' : 'false'" aria-controls="nav-list">
    <div class="aria-only"><%= t("helpers.navigation_menu") %></div>
    <div class="burger-line"></div>
    <div class="burger-line"></div>
    <div class="burger-line"></div>
  </button>
  <div class="menu" ref="menu">
    <ul id="nav-list">
      <li class="no-link"><%= current_user.name %></li>
      <% ApplicationHelper::NAV_LINKS.each do |key, path| %>
        <li>
          <%= link_to_unless_current(t(key), path) do %>
          <span> <%= t(key) %> </span>
          <%end%>
        </li>
      <% end %>
      <li><%= button_to "Log out", logout_path, method: "delete", class: "not-button" %></li>
    </ul>
  </div>
</nav>
</nav-component>
<% end %>
